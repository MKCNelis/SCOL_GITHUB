var CFSlideshow=function(b,a){this.id=b;this.presetValues={width:"500px",height:"300px",autoplay:!1,delay:10,transition:"fade",showThumbs:!0,thumbMode:"preview",showButtons:!0,buttonHide:!0,clickCancel:!0};this.options={width:a.width,height:a.height,autoplay:a.autoplay,delay:a.delay,transition:a.transition,showThumbs:a.showThumbs,thumbMode:a.thumbMode,showButtons:a.showButtons,buttonHide:a.buttonHide,clickCancel:a.clickCancel};for(var c in this.options)void 0===this.options[c]&&(this.options[c]=this.presetValues[c]);
this.elem=null;this.currentSlide=this.slides=0;this.bugString="";this.init()};
CFSlideshow.prototype.init=function(){var b=this;this.elem=document.getElementById(this.id);this.slides=this.getLevelElements(this.elem,"section").length;try{this.elem.style.width=this.options.width,this.elem.style.height=this.options.height}catch(f){this.elem.style.setProperty("width",this.options.width),this.elem.style.setProperty("height",this.options.height),this.bugString+="err: alternate style property. "+f+".<br />"}if(this.options.showButtons){var a=document.createElement("div");a.className=
"nextBtn";try{this.elem.append(a)}catch(f){this.elem.appendChild(a)}a=document.createElement("div");a.className="backBtn";try{this.elem.prepend(a)}catch(f){this.elem.appendChild(a)}var c=a=null,d=null;try{a=this.getLevelElements(this.elem,"section")[0],c=this.elem.getElementsByClassName("nextBtn")[0],d=this.elem.getElementsByClassName("backBtn")[0]}catch(f){a=this.getByClass(this.elem,"slide")[0],c=this.getByClass(this.elem,"nextBtn")[0],d=this.getByClass(this.elem,"backBtn")[0],this.bugString+="err: getElementsByClassName not available. "+
f+".<br />"}a.className+=" active";this.addListener("click",c,function(){b.currentSlide<b.slides-1&&(b.currentSlide++,b.changeSlide(b.currentSlide,"right"),b.options.showThumbs&&b.changeThumb(b.elem,b.currentSlide),b.options.clickCancel&&b.options.autoplay&&clearInterval(m))});this.addListener("click",d,function(){0<b.currentSlide&&(b.currentSlide--,b.changeSlide(b.currentSlide,"left"),b.options.showThumbs&&b.changeThumb(b.elem,b.currentSlide),b.options.clickCancel&&b.options.autoplay&&clearInterval(m))});
d.className="backBtn disabled";this.options.buttonHide&&(c.style.opacity=0,c.style.pointerEvents="none",d.style.opacity=0,d.style.pointerEvents="none",this.addListener("mouseover",this.elem,function(){try{c.style.opacity=1,c.style.pointerEvents="all",d.style.opacity=1,d.style.pointerEvents="all"}catch(f){c.style.setProperty("opacity",1),c.style.setProperty("pointer-events","all"),d.style.setProperty("opacity",1),d.style.setProperty("pointer-events","all"),b.bugString+="err: using alternate style properties. "+
f+".<br />"}}),this.addListener("mouseout",this.elem,function(){try{c.style.opacity=0,c.style.pointerEvents="none",d.style.opacity=0,d.style.pointerEvents="none"}catch(f){c.style.setProperty("opacity",0),c.style.setProperty("pointer-events","none"),d.style.setProperty("opacity",0),d.style.setProperty("pointer-events","none"),b.bugString+="err: alternate style properties. "+f+".<br />"}}))}if(this.options.showThumbs){a=document.createElement("div");a.className="thumbnails";try{this.elem.append(a)}catch(f){this.elem.appendChild(a)}for(var e=
0;e<this.slides;e++){var g=document.createElement("span");g.className="thumb";try{a.append(g)}catch(f){a.appendChild(g)}if("preview"===this.options.thumbMode){var n=this.getLevelElements(this.elem,"section")[e],k=document.createElement("div");k.className="thumb-preview";try{g.append(k)}catch(f){g.appendChild(k)}k.innerHTML=n.innerHTML}}var h=null;try{h=this.elem.getElementsByClassName("thumb")}catch(f){h=this.getByClass(this.elem,"thumb")}h[0].className+=" active";var l="";for(a=0;a<h.length;a++)e=
h[a],e.id=a,b.addListener("click",e,function(a){a=parseFloat(a.target.id);a>b.currentSlide?l="right":a<b.currentSlide&&(l="left");b.currentSlide=a;b.changeSlide(a,l);for(a=0;a<h.length;a++)h[a].className="thumb";this.className="thumb active"})}if(this.options.autoplay)var m=setInterval(function(){b.currentSlide<b.slides-1?b.currentSlide++:b.currentSlide=0;b.changeSlide(b.currentSlide);this.options.showThumbs&&b.changeThumb(b.elem,b.currentSlide)},1E3*b.options.delay);if("fade"===this.options.transition){for(a=
0;a<this.slides;a++){e=this.getLevelElements(this.elem,"section")[a];e.style.opacity=0;e.style.transition="opacity 1s ease-out";try{e.style.setProperty("-webkit-transition","opacity 1s ease-out")}catch(f){this.bugString+="err: transition property error. "+f+".<br />"}}this.getLevelElements(this.elem,"section")[0].style.opacity=1}else if("slide"===this.options.transition){for(a=0;a<this.slides;a++){e=this.getLevelElements(this.elem,"section")[a];e.style.transition="left 1s ease-out";try{e.style.setProperty("-webkit-transition",
"left 1s ease-out")}catch(f){this.bugString+="err: transition property error. "+f+".<br />"}}a=this.getLevelElements(this.elem,"section")[0];e=this.getLevelElements(this.elem,"section")[1];g=this.getLevelElements(this.elem,"section")[this.slides-1];a.style.left="0px";e.style.left=this.width;g.style.left="-"+this.width}};
CFSlideshow.prototype.changeSlide=function(b,a){for(var c=this.getLevelElements(this.elem,"section"),d=c[b],e=0,g=0;g<c.length;g++)-1<c[g].className.indexOf("active")&&(e=g);this.transitionSlide(this.elem,d,e,a);this.options.showButtons&&(c=this.elem.getElementsByClassName("nextBtn")[0],d=this.elem.getElementsByClassName("backBtn")[0],c.className="nextBtn",d.className="backBtn",0===b?d.className+=" disabled":b===this.slides-1&&(c.className+=" disabled"))};
CFSlideshow.prototype.nextSlide=function(){this.currentSlide<this.slides&&(this.currentSlide++,this.changeSlide(this.currentSlide))};CFSlideshow.prototype.prevSlide=function(){0<this.currentSlide&&(this.currentSlide--,this.changeSlide(this.currentSlide))};CFSlideshow.prototype.getByClass=function(b,a){for(var c=[],d=b.getElementsByTagName("*"),e=0;e<d.length;e++)0<d[e].className.indexOf(a)&&c.push(d[e]);return c};
CFSlideshow.prototype.addListener=function(b,a,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c};CFSlideshow.prototype.changeThumb=function(b,a){var c=null;try{c=b.getElementsByClassName("thumb")}catch(e){c=this.getByClass(b,"thumb")}for(var d=0;d<c.length;d++)c[d].className="thumb";c[a].className="thumb active"};
CFSlideshow.prototype.getLevelElements=function(b,a){for(var c=b.getElementsByTagName(a),d=[],e=0;e<c.length;e++)c[e].parentNode===b&&d.push(c[e]);return d};
CFSlideshow.prototype.transitionSlide=function(b,a,c,d){var e=this.getLevelElements(b,"section")[c];c=this.getLevelElements(this.elem,"section");b=this.getLevelElements(b,"section")[this.currentSlide+1];"fade"===this.options.transition?(a.style.opacity=0,e.style.opacity=0,a.style.opacity=1):"slide"===this.options.transition&&("right"===d?(e.style.zIndex=1,e.style.left="-"+this.width,a.style.left="0px",b&&(b.style.left=this.width)):(e.style.zIndex=1,e.style.left=this.width,a.style.left="0px"));for(d=
0;d<c.length;d++)c[d].className="";a.className="active"};CFSlideshow.prototype.getCurrentSlide=function(){return this.currentSlide};CFSlideshow.prototype.getTotalSlides=function(){return this.slides};